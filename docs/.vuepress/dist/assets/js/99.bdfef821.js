(window.webpackJsonp=window.webpackJsonp||[]).push([[99],{481:function(t,a,s){"use strict";s.r(a);var n=s(2),e=Object(n.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("这是MybatisPlus最为核心的功能了，之前在"),a("a",{attrs:{href:"/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/MybatisPlus/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E4%B9%8B%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"}},[t._v("基础入门之增删改查")]),t._v("提到过一些简单的逻辑不需要去写sql就可以完成，这个SQL就是使用条件构造器去构造的。\n")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("属性")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("解释")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("eq")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("等于 =")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ne")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不等于 <>")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("gt")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大于 >")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("ge")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("大于等于 >=")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("lt")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小于 <")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("le")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("小于等于 <=")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("between")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("BETWEEN 值1 AND 值2")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("notBetween")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("NOT BETWEEN 值1 AND 值2")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("in")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('in("age", 1, 2, 3)')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("notIn")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('notIn("age",{1,2,3})')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("groupBy")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('groupBy("id", "name")')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("orderByAsc")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('orderByAsc("id", "name")')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("orderByDesc")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('orderByDesc("id", "name")')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("orderBy")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('orderBy(true, true, "id", "name")')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("having")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('having("sum(age) > {0}", 11)')])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("and")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v('and(i -> i.eq("name", "李白").ne("status", "活着"))')])])])]),t._v(" "),a("h2",{attrs:{id:"使用案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用案例"}},[t._v("#")]),t._v(" 使用案例")]),t._v(" "),a("p",[t._v("我把"),a("a",{attrs:{href:"/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%B8%B8%E7%94%A8%E6%A1%86%E6%9E%B6/MybatisPlus/%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%E4%B9%8B%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"}},[t._v("基础入门之增删改查")]),t._v("中使用到条件构造器的地方复制了一部分，其中QueryWrapper是构建查询语句，UpdateWrapper是构建修改语句，二者的区别是UpdateWrapper多了set属性。")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@Autowired")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("private")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UserMapper")]),t._v(" userMapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//构建条件")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryWrapper")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" wrapper "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("QueryWrapper")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//根据用户名更新，参数1对应数据库中的字段")]),t._v("\n    wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eq")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zhangsan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//参数1：实体对象")]),t._v("\n    userMapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("void")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),t._v(" user"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//构建条件")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UpdateWrapper")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("User")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v(" wrapper "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UpdateWrapper")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('//更改"user_name"为"zhangsan"的age和password字段')]),t._v("\n    wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"age"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("set")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"88888"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("eq")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"user_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"zhangsan"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//参数1：实体对象")]),t._v("\n    userMapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" wrapper"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=e.exports}}]);