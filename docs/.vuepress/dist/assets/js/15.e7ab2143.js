(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{392:function(s,t,n){"use strict";n.r(t);var a=n(2),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("在Centos7上配置使用环境与安装docker，并设置Docker下载镜像地址为阿里云镜像，以及Nginx部署案例\n")]),s._v(" "),t("ul",[t("li",[s._v("依次运行以下命令添加更新yum源。")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum update\nyum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release -y\nyum clean all\nyum list\n")])])]),t("ul",[t("li",[s._v("安装并运行Docker")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-io -y\nsystemctl start "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])])]),t("ul",[t("li",[s._v("检查安装结果")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])])]),t("ul",[t("li",[s._v("启动使用Docker")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("systemctl start "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行Docker守护进程")]),s._v("\nsystemctl stop "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("      "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止Docker守护进程")]),s._v("\nsystemctl restart "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("   "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启Docker守护进程")]),s._v("\n")])])]),t("ul",[t("li",[s._v("一个命令部署Nginx")])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --rm --name nginx-xdclass -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":80 -d nginx\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run --name nginx-xdclass -p "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":80 -d nginx\n\n--rm：容器终止运行后，自动删除容器文件。\n--name nginx-xdclass：容器的名字叫做nginx-xdclass,名字自己定义.\n-p: 端口进行映射，将本地 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(" 端口映射到容器内部的 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(" 端口\n-d：容器启动后，在后台运行\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" 查看容器\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" stop 容器id\n")])])]),t("ul",[t("li",[s._v("修改镜像仓库，"),t("a",{attrs:{href:"https://cr.console.aliyun.com/cn-shenzhen/instances/mirrors",target:"_blank",rel:"noopener noreferrer"}},[s._v("容器镜像服务 (aliyun.com)"),t("OutboundLink")],1)])]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" /etc/docker/daemon.json\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#改为下面内容，然后重启docker")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"registry-mirrors"')]),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://whti7a4f.mirror.aliyuncs.com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启Docker")]),s._v("\nsystemctl daemon-reload "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" systemctl restart "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#查看信息")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);