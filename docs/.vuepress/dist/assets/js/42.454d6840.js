(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{417:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("使用源码的方式安装依赖多、且版本和维护相对复杂，需要erlang环境、版本也是有要求，因此不建议在"),a("strong",[s._v("本地")]),s._v("或"),a("strong",[s._v("服务器")]),s._v("使用"),a("strong",[s._v("源码")]),s._v("的方式安装，因为使用RabbitMQ安装erlang环境完全没必要。推荐使用云服务器或虚拟机使用docker安装，学习时可用使用阿里云按量付费减少学习成本。\n")]),s._v(" "),a("ul",[a("li",[s._v("环境问题说明：Win7、Win8、Win10、Mac、虚拟机等等，可能存在兼容问题。务必使用CentOS 7 以上版本，64位系统！！！！")])]),s._v(" "),a("p",[s._v("我这里使用阿里云抢占式实例购买了3台用于学习部署集群使用")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://xk857.com/typora/2021/05image-20210522190327685.png",alt:"image-20210522190327685"}})]),s._v(" "),a("h3",{attrs:{id:"安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装docker"}},[s._v("#")]),s._v(" 安装Docker")]),s._v(" "),a("p",[s._v("依次运行以下命令添加yum源")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum update\nyum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" epel-release -y\nyum clean all\nyum list\n")])])]),a("p",[s._v("安装并运行Docker。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker-io -y\nsystemctl start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("\n")])])]),a("p",[s._v("检查安装结果。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" info\n")])])]),a("p",[s._v("启动使用Docker")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("systemctl start "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#运行Docker守护进程")]),s._v("\nsystemctl stop "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#停止Docker守护进程")]),s._v("\nsystemctl restart "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#重启Docker守护进程")]),s._v("\n")])])]),a("p",[s._v("帮助文档：https://help.aliyun.com/document_detail/51853.html?spm=a2c4g.11186623.6.820.RaToNY")]),s._v(" "),a("h3",{attrs:{id:"安装rabbitmq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装rabbitmq"}},[s._v("#")]),s._v(" 安装RabbitMQ")]),s._v(" "),a("p",[s._v("账号：admin 密码：password，部署后访问：ip:15672，注意把防火墙和阿里云/腾讯云安全组开放15672端口")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#拉取镜像")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" pull rabbitmq:management\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第一台机子")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --hostname rabbit_host1 --name xk857_rabbit -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_PASS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 rabbitmq:management\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第二台机器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --hostname rabbit_host2 --name xk857_rabbit -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_PASS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 rabbitmq:management\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#第三台机器")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("docker")]),s._v(" run -d --hostname rabbit_host3 --name xk857_rabbit -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_USER")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("admin -e "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("RABBITMQ_DEFAULT_PASS")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("password -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 -p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 rabbitmq:management\n\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#介绍")]),s._v("\n-d 以守护进程方式在后台运行\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(":15672 management 界面管理访问端口\n-p "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(":5672 amqp 访问端口\n--name：指定容器名\n--hostname：设定容器的主机名，它会被写到容器内的 /etc/hostname 和 /etc/hosts，作为容器主机IP的别名，并且将显示在容器的bash中\n\n-e 参数\n  RABBITMQ_DEFAULT_USER 用户名\n  RABBITMQ_DEFAULT_PASS 密码\n")])])]),a("p",[s._v("主要端口介绍：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4369")]),s._v(" erlang 发现口\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5672")]),s._v(" client 端通信口\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15672")]),s._v(" 管理界面 ui 端口\n"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25672")]),s._v(" server 间内部通信口\n")])])]),a("ul",[a("li",[s._v("Linux服务器检查防火墙是否关闭")]),s._v(" "),a("li",[s._v("云服务器检查网络安全组是否开放端口")])]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("CentOS 7 以上默认使用的是firewall作为防火墙\n查看防火墙状态\nfirewall-cmd --state\n\n停止firewall\nsystemctl stop firewalld.service\n\n禁止firewall开机启动\nsystemctl disable firewalld.service\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);