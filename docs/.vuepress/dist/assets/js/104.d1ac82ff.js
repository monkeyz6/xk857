(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{482:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("上文写了如何在SpringBoot项目中如何发送消息，但是RocketMQ在整合时经常出现各种问题，这里列出常见错误及解决方案\n")]),t._v(" "),s("h3",{attrs:{id:"常见错误一-云服务器部署网卡问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见错误一-云服务器部署网卡问题"}},[t._v("#")]),t._v(" 常见错误一：云服务器部署网卡问题")]),t._v(" "),s("p",[t._v("常见错误一 ：org.apache.rocketmq.remoting.exception.RemotingTooMuchRequestException:sendDefaultImpl call timeout")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("原因：阿里云/腾讯云存在多网卡，rocketmq都会根据当前网卡选择一个IP使用，当你的机器有多块网卡时，很有可能会有问题。")])]),s("p",[t._v("比如，我遇到的问题是我机器上有两个IP，一个公网IP，一个私网IP, 因此需要配置broker.conf 指定当前的公网ip, 然后重新启动broker")]),t._v(" "),s("p",[t._v("新增配置：conf/broker.conf  (属性名称brokerIP1=broker所在的公网ip地址 )")]),t._v(" "),s("p",[t._v("新增这个配置：brokerIP1=120.76.62.13")]),t._v(" "),s("p",[t._v("启动命令：nohup sh bin/mqbroker -n localhost:9876  -c ./conf/broker.conf &")]),t._v(" "),s("p",[t._v("具体解决：\norg.apache.rocketmq.remoting.exception.RemotingTooMuchRequestException: sendDefaultImpl call timeout")]),t._v(" "),s("div",{staticClass:"language-shell extra-class"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" /usr/local/software/rocketmq/distribution/target/rocketmq-4.8.0/rocketmq-4.8.0/conf\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vim")]),t._v(" broker.conf\n\n增加配置\n"),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("brokerIP1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("公网IP\n\n保存后关闭进程\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM-4-16-centos conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# jps")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8578")]),t._v(" jar\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("20692")]),t._v(" Jps\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26296")]),t._v(" NamesrvStartup\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("26346")]),t._v(" BrokerStartup\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM-4-16-centos conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kill -9 26346")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM-4-16-centos conf"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# cd ..")]),t._v("\n\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@VM-4-16-centos rocketmq-4.8.0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# sh bin/mqbroker -n localhost:9876  -c ./conf/broker.conf")]),t._v("\nThe broker"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("broker-a, "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.15")]),t._v(".143.246:10911"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" boot success. "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[t._v("serializeType")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("JSON and name server is localhost:9876\n")])])]),s("h3",{attrs:{id:"常见错误二-broker禁止自动创建topic"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见错误二-broker禁止自动创建topic"}},[t._v("#")]),t._v(" 常见错误二：Broker禁止自动创建Topic")]),t._v(" "),s("p",[t._v("常见错误二：MQClientException: No route info of this topic, TopicTest1")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("原因：Broker 禁止自动创建 Topic，且用户没有通过手工方式创建 此Topic, 或者broker和Nameserver网络不通")])]),s("p",[t._v("解决： 通过 sh bin/mqbroker -m  查看配置")]),t._v(" "),s("p",[t._v("autoCreateTopicEnable=true 则自动创建topic")]),t._v(" "),s("p",[t._v("Centos7关闭防火墙  systemctl stop firewalld")]),t._v(" "),s("h3",{attrs:{id:"常见错误三-控制台查看不了数据-提示连接-10909错误"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常见错误三-控制台查看不了数据-提示连接-10909错误"}},[t._v("#")]),t._v(" 常见错误三：控制台查看不了数据，提示连接 10909错误")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"title"}),s("p",[t._v("原因：Rocket默认开启了VIP通道，VIP通道端口为10911-2=10909")])]),s("p",[t._v("解决：阿里云安全组需要增加一个端口 10909")]),t._v(" "),s("p",[t._v("其他错误:")]),t._v(" "),s("p",[t._v("https://blog.csdn.net/qq_14853889/article/details/81053145")]),t._v(" "),s("p",[t._v("https://blog.csdn.net/wangmx1993328/article/details/81588217#%E5%BC%82%E5%B8%B8%E8%AF%B4%E6%98%8E")]),t._v(" "),s("p",[t._v("https://www.jianshu.com/p/bfd6d849f156")]),t._v(" "),s("p",[t._v("https://blog.csdn.net/wangmx1993328/article/details/81588217\n"),s("img",{attrs:{src:"https://oss.xk857.com/images/20220811/home.png",alt:"home.png"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);